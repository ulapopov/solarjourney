<!DOCTYPE html>
<html lang="en">
<head>
<style>
    #userMessage {
        width: 80%; /* Makes the input box wider */
        padding: 10px; /* Adds some padding for text */
        margin-bottom: 20px; /* Adds space below the input box */
    }
</style>
    <meta charset="UTF-8">
<title>Chatbot</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.0.0/socket.io.js"></script>
<script type="text/javascript">
    document.addEventListener('DOMContentLoaded', (event) => {
        var socket = io.connect('http://' + document.domain + ':' + location.port);

        socket.on('connect', () => {
            console.log('Websocket connected!');
        });

        document.querySelector('#sendButton').onclick = () => {
            let user_input = document.querySelector('#userMessage').value;
            let msg_list = document.querySelector('#messages');
            let user_msg = document.createElement('li'); // Create a new list item for the user's message
            user_msg.textContent = "You: " + user_input; // Prefix the message with "You:" to indicate it's from the user
            msg_list.appendChild(user_msg); // Append the user's message to the list

            socket.emit('message from user', user_input); // Send the user's message to the server
            document.querySelector('#userMessage').value = ''; // Clear the input box after sending
        };

        socket.on('message from server', (msg) => {
            let msg_list = document.querySelector('#messages');
            let new_msg = document.createElement('li'); // Create a new list item for the server's message
            new_msg.textContent = "Angela: " + msg; // Prefix the message with "Bot:" to indicate it's from the bot
            msg_list.appendChild(new_msg); // Append the bot's message to the list
        });
    });
</script>
</head>
<body>
    <ul id="messages"></ul>
    <input type="text" id="userMessage">
    <button id="sendButton">Send</button>
</body>
</html>
